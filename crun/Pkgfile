# Description: A fast and lightweight fully featured OCI runtime
# URL: https://github.com/containers/crun
# Maintainer: cavekid, cavekid at protonmail dot com
# Depends on: libseccomp yajl git go

name=crun
version=1.18.2
release=1
source=()

build() {
	cd $PKGMK_SOURCE_DIR

	if cd $name-$version; then
		git fetch -q
		git reset --hard $version
	else
		git clone --branch $version https://github.com/containers/$name $name-$version
		cd $name-$version
	fi

	./autogen.sh
	./configure \
		--prefix=/usr \
		--enable-shared \
		--disable-systemd

	make
	make DESTDIR=$PKG PREFIX=/usr install
}
